VERSION=1.21
HEADER
FILE="ddr_test_sm.asf"
FID=43d9c1aa
LANGUAGE=VHDL
ENTITY="ddr_test_sm"
ARCHITECTURE="from_asf"
FREEOID=236
"LIBRARIES=library IEEE;\nuse IEEE.std_logic_1164.all;\nuse IEEE.std_logic_arith.all;\nuse IEEE.std_logic_unsigned.all;\n"
MULTIPLEARCHSTATUS=FALSE
SYNTHESISATTRIBUTES=TRUE
HEADER_PARAM="AUTHOR,Telops Inc."
HEADER_PARAM="COMPANY,Telops Inc."
HEADER_PARAM="CREATIONDATE,2005-10-28"
HEADER_PARAM="TITLE,No Title"
BLOCKTABLE_FILE=""
BLOCKTABLE_TEMPL="0"
BLOCKTABLE_VISIBLE="1"
END
BUNDLES
B T "Declarations" 0,0,255 0 0 1 255,255,255 0 2977 0 0000 0 "Arial" 0
B T "Conditions" 128,0,128 0 0 0 255,255,255 0 2977 0 0110 0 "Arial" 0
B F "States" 0,0,0 0 0 1 0,255,0 1 3527 1480 0000 0 "Arial" 0
B T "Actions" 0,0,0 0 0 1 255,255,255 0 2977 0 0000 0 "Arial" 0
B T "Labels" 0,0,0 0 0 0 0,0,0 0 2977 0 0000 0 "Arial" 0
B L "Transitions" 0,0,0 0 0 1 0,0,0 1 3527 1480 0000 0 "Arial" 0
B F "Ports" 0,0,0 0 0 1 0,255,255 1 3527 1480 0000 0 "Arial" 0
B L "Errors" 255,0,0 0 3 1 255,255,255 1 3527 1480 0000 0 "Arial" 0
B T "State Labels" 0,0,0 0 0 0 0,0,0 0 2977 0 0000 0 "Arial" 4
B F "Current State" 255,255,0 0 0 1 255,255,0 1 3527 1480 0000 0 "Arial" 0
B T "Comments" 157,157,157 0 0 1 255,255,255 0 2977 0 0000 0 "Arial" 0
B L "Info" 0,255,0 0 3 1 255,255,255 1 3527 1480 0000 0 "Arial" 0
B F "Junction" 0,0,0 0 0 1 255,0,0 1 3527 1480 0000 0 "Arial" 0
B F "Initial State Indicator" 0,0,0 0 0 1 240,140,40 1 3527 1480 0000 0 "Arial" 0
B T "Alias" 0,128,0 0 0 1 255,255,255 0 3527 1480 0000 0 "Arial" 0
B F "Delay" 0,0,0 0 0 1 180,180,180 1 3527 1480 0000 0 "Arial" 0
END
INSTHEADER 1
PAGE 0,0 215900,279400
MARGINS 12700,12700 12700,12700
END
INSTHEADER 169
PAGE 0,0 215900,279400
MARGINS 12700,12700 12700,12700
END
INSTHEADER 199
PAGE 0,0 215900,279400
MARGINS 12700,12700 12700,12700
END
INSTHEADER 215
PAGE 0,0 215900,279400
MARGINS 12700,12700 12700,12700
END
OBJECTS
F 5 0 671088648 8 0 "" 0 RECT 0,0,0 0 0 1 255,255,255 0 | 54930,24397 199472,185626
L 6 5 0 TEXT "Labels" | 59668,182718 1 0 0 "ddr_test_sm"
G 1 0 0 TEXT 0,0,0 0 0 0 255,255,255 0 5000 2098 0000 0 "Arial" 0 | 81550,260722 1 0 0 "Entity: ddr_test_sm\nArchitecture: from_asf"
L 7 8 0 TEXT "Labels" | 30470,220802 1 0 0 "CLK"
I 8 0 3 Builtin InPort | 22310,221612 "" ""
L 9 10 0 TEXT "Labels" | 30470,214652 1 0 0 "SINIT"
I 10 0 2 Builtin InPort | 22310,215192 "" ""
L 11 12 0 TEXT "Labels" | 79280,223520 1 0 0 "U_BUSY"
I 12 0 2 Builtin InPort | 71120,223520 "" ""
L 13 14 0 TEXT "Labels" | 148130,220440 1 0 0 "DAT_EQ"
I 14 0 2 Builtin InPort | 139700,220980 "" ""
L 15 16 0 TEXT "Labels" | 181746,211576 1 0 0 "NXT_ADR"
S 29 5 8192 ELLIPSE 0,0,0 0 0 1 0,255,0 1 | 150982,137809 6500 6500
L 28 29 0 TEXT "State Labels" | 150982,137809 1 0 0 "WRITE"
C 27 26 0 TEXT "Conditions" | 66804,174672 1 0 0 "SINIT = '1'"
W 26 5 8192 23 25 BEZIER "Transitions" | 93314,176861 93314,173756 93139,169029 93139,165924
S 25 5 12290 ELLIPSE "States" | 93862,159468 6500 6500
L 24 25 0 TEXT "State Labels" | 93862,159468 1 0 0 "RESET"
I 23 5 0 Builtin Reset | 93314,176861
I 16 0 2 Builtin OutPort | 175746,211576 "" ""
L 17 18 0 TEXT "Labels" | 102174,224046 1 0 0 "U_CMD[2:0]"
I 18 0 130 Builtin OutPort | 96174,224046 "" ""
L 19 20 0 TEXT "Labels" | 102174,218282 1 0 0 "U_CMD_VALID"
I 20 0 2 Builtin OutPort | 96174,218282 "" ""
L 21 22 0 TEXT "Labels" | 182626,194352 1 0 0 "DDRT_STAT[1:0]"
I 22 0 130 Builtin OutPort | 176356,194892 "" ""
I 46 0 387 Builtin Constant | 21820,170860 ""
L 45 46 0 TEXT "Labels" | 25360,170590 1 0 0 "WR[2:0]=\"100\""
A 44 29 4 TEXT "Actions" | 163138,152434 1 0 0 "U_CMD_VALID <= not U_BUSY;\nNXT_ADR <= not U_BUSY;\nNXT_DAT <= not U_BUSY;"
A 42 25 4 TEXT "Actions" | 109587,183861 1 0 0 "U_CMD <= \"000\";\nU_CMD_VALID <= '0';\nNXT_ADR <= '0';\nNXT_DAT <= '0';\nDDRT_STAT <= DDR_NOTEST;\nEN_TEST <= '1';\nRST_GEN <= '1';"
C 39 38 0 TEXT "Conditions" | 98038,149023 1 0 0 "U_BUSY = '0' and DDRT_TRIG = '1'"
W 38 5 8192 25 29 BEZIER "Transitions" | 95734,153246 113076,149982 130418,146717 147760,143453
L 63 64 0 TEXT "State Labels" | 63293,46254 1 0 0 "OK"
A 60 57 4 TEXT "Actions" | 162273,97442 1 0 0 "U_CMD_VALID <= not U_BUSY;\nNXT_ADR <= not U_BUSY;\nNXT_DAT <= DATA_VLD;"
W 58 5 8192 29 119 BEZIER "Transitions" | 147724,132186 141167,129328 134610,126470 128053,123612
S 57 5 16384 ELLIPSE "States" | 151117,93300 6500 6500
L 56 57 0 TEXT "State Labels" | 151117,93300 1 0 0 "READ"
L 55 54 0 TEXT "Labels" | 25415,165030 1 0 0 "RD[2:0]=\"101\""
I 54 0 387 Builtin Constant | 21875,165300 ""
L 73 72 0 TEXT "Labels" | 148130,215360 1 0 0 "LST_ADR"
I 72 0 2 Builtin InPort | 139700,215900 "" ""
L 71 70 0 TEXT "Labels" | 181619,222622 1 0 0 "RST_GEN"
I 70 0 2 Builtin OutPort | 175619,222622 "" ""
A 68 64 4 TEXT "Actions" | 71995,45182 1 0 0 "DDRT_STAT <= DDR_PASS;\nEN_TEST <= '0';"
C 66 58 0 TEXT "Conditions" | 126777,132984 1 0 0 "LST_ADR = '1'"
S 64 5 20480 ELLIPSE "States" | 64103,46524 6500 6500
I 92 0 2 Builtin OutPort | 175941,205888 "" ""
L 93 92 0 TEXT "Labels" | 181941,205888 1 0 0 "NXT_DAT"
L 103 104 0 TEXT "State Labels" | 156039,56728 1 0 0 "ERR"
S 104 5 24576 ELLIPSE "States" | 156039,56980 6500 6500
A 107 104 4 TEXT "Actions" | 164123,54838 1 0 0 "DDRT_STAT <= DDR_FAIL;\nEN_TEST <= '0';"
I 110 0 2 Builtin OutPort | 176175,200670 "" ""
L 111 110 0 TEXT "Labels" | 182445,200130 1 0 0 "EN_TEST"
A 127 120 16 TEXT "Actions" | 104533,111924 1 0 0 "RST_GEN <= '1';"
L 126 125 0 TEXT "Labels" | 148130,210280 1 0 0 "DAT_PEND"
I 125 0 2 Builtin InPort | 139700,210820 "" ""
I 114 0 2 Builtin InPort | 71422,212662 "" ""
L 115 114 0 TEXT "Labels" | 79852,212122 1 0 0 "DATA_VLD"
L 118 119 0 TEXT "State Labels" | 128296,116868 1 0 0 "WR_END"
S 119 5 28672 ELLIPSE "States" | 128568,117140 6500 6500
W 120 5 8192 119 199 BEZIER "Transitions" | 122177,115959 122596,110277 123017,104595 123436,98913
A 121 119 4 TEXT "Actions" | 141748,123018 1 0 0 "RST_GEN <= '0';"
C 122 120 0 TEXT "Conditions" | 105130,116828 1 0 0 "DAT_PEND = '0'"
A 137 130 4 TEXT "Actions" | 124272,42588 1 0 0 "RST_GEN <= '0';\nNXT_DAT <= DATA_VLD;"
C 132 131 0 TEXT "Conditions" | 118979,75685 1 0 0 "LST_ADR = '1'"
W 131 5 8194 57 130 BEZIER "Transitions" | 148094,87549 136184,76485 124273,65421 112363,54357
S 130 5 32768 ELLIPSE "States" | 113850,48032 6500 6500
L 129 130 0 TEXT "State Labels" | 113850,48032 1 0 0 "RD_END"
W 138 5 8193 57 104 BEZIER "Transitions" | 153227,87154 155329,77237 154636,73359 156738,63442
C 139 138 0 TEXT "Conditions" | 153724,75189 1 0 0 "DAT_EQ = '0'"
C 141 140 0 TEXT "Conditions" | 129788,60402 1 0 0 "DAT_EQ = '0'"
W 133 5 8195 169 64 BEZIER "Transitions" | 75889,86118 72228,75069 68565,64020 64904,52971
W 140 5 8193 130 104 BEZIER "Transitions" | 118892,52114 129323,54678 139755,57242 150186,59806
L 155 154 0 TEXT "Labels" | 24925,138840 1 0 0 "DDR_FAIL[1:0]=\"11\""
I 154 0 387 Builtin Constant | 21925,138840 ""
L 153 152 0 TEXT "Labels" | 24925,145050 1 0 0 "DDR_PASS[1:0]=\"01\""
I 152 0 387 Builtin Constant | 21925,145050 ""
I 151 0 387 Builtin Constant | 21870,151420 ""
L 150 151 0 TEXT "Labels" | 24870,151420 1 0 0 "DDR_NOTEST[1:0]=\"00\""
I 158 0 2 Builtin OutPort | 175675,217410 "" ""
L 159 158 0 TEXT "Labels" | 181945,216870 1 0 0 "DAT_INV"
A 160 26 16 TEXT "Actions" | 67353,170435 1 0 0 "dat_inv_loc <= '0';"
W 161 5 4097 169 215 BEZIER "Transitions" | 80134,91227 90391,106792 100648,122357 110905,137922
C 162 161 0 TEXT "Conditions" | 90762,105123 1 0 0 "dat_inv_loc = '0'"
A 163 161 16 TEXT "Actions" | 87972,100321 1 0 0 "RST_GEN <= '1';\ndat_inv_loc <= '1';"
L 164 165 0 TEXT "Labels" | 26220,118750 1 0 0 "dat_inv_loc"
I 165 0 2 Builtin Signal | 22140,119560 "" ""
A 167 0 1 TEXT 0,0,0 0 0 0 255,255,255 0 2500 0 0000 0 "Arial" 0 | 20925,113890 1 0 0 "DAT_INV <=  dat_inv_loc;"
L 168 169 0 TEXT "State Labels" | 78858,87970 1 0 0 "J1"
S 169 5 36884 ELLIPSE "Junction" | 78858,87970 3500 3500
H 170 169 0 RECT 0,0,0 0 0 1 255,255,255 0 | 15700,15700 200200,263700
I 171 170 0 Builtin Entry | 86360,167640
I 172 170 0 Builtin Exit | 129540,111760
W 173 170 0 171 172 BEZIER "Transitions" | 90260,167640 102223,150454 114768,128947 126732,111760
W 174 5 8192 130 169 BEZIER "Transitions" | 108977,52332 103627,59709 85983,77578 80633,84955
C 175 174 0 TEXT "Conditions" | 69753,68097 1 0 0 "DAT_PEND = '0'"
A 191 29 2 TEXT "Actions" | 162722,169205 1 0 0 "NXT_DAT <= not U_BUSY;\nNXT_ADR <= not U_BUSY;\nRST_GEN <= '0';\nU_CMD <= WR;\nU_CMD_VALID <= not U_BUSY;"
G 185 0 0 TEXT 0,0,0 0 0 1 255,255,255 0 3527 1480 0000 0 "Arial" 0 | 20115,126850 1 0 0 "Local register"
G 183 0 0 TEXT 0,0,0 0 0 1 255,255,255 0 3527 1480 0000 0 "Arial" 0 | 19710,179770 1 0 0 "Constants"
G 180 0 0 TEXT 0,0,0 0 0 1 255,255,255 0 3527 1480 0000 0 "Arial" 0 | 144780,231140 1 0 0 "Datapath interface ports"
G 178 0 0 TEXT 0,0,0 0 0 1 255,255,255 0 3527 1480 0000 0 "Arial" 0 | 20520,229180 1 0 0 "Clock and Reset"
G 176 0 0 TEXT 0,0,0 0 0 1 255,255,255 0 3527 1480 0000 0 "Arial" 0 | 69450,231946 1 0 0 "DDR core interface ports:"
I 189 0 2 Builtin InPort | 139700,205740 "" ""
L 190 189 0 TEXT "Labels" | 148130,205200 1 0 0 "DDRT_TRIG"
C 188 187 0 TEXT "Conditions" | 67281,116885 1 0 0 "DDRT_TRIG = '0'"
W 187 5 8194 169 25 BEZIER "Transitions" | 76954,90905 80826,112501 84699,134098 88571,155694
A 207 205 16 TEXT "Actions" | 73515,169690 1 0 0 "if delay_counter_ddr_test_sm /= 0 then delay_counter_ddr_test_sm <= delay_counter_ddr_test_sm - 1; end if;"
C 206 205 0 TEXT "Conditions" | 74796,133584 1 0 0 "@else"
W 205 200 0 203 203 BEZIER "Transitions" | 102235,142795 73515,169690 74796,133584 106077,133478
L 204 203 0 TEXT "State Labels" | 107950,139700 1 0 0 "DS1"
S 203 200 0 ELLIPSE "States" | 107950,139700 6500 6500
I 202 200 0 Builtin Exit | 129540,111760
I 201 200 0 Builtin Entry | 86360,167640
H 200 199 0 RECT 0,0,0 0 0 1 255,255,255 0 | 15700,15700 200200,263700
S 199 5 67149828 ELLIPSE "Delay" | 127606,93928 6500 6500
L 198 199 0 TEXT "State Labels" | 127606,93928 1 0 0 "D1"
A 196 130 8 TEXT "Actions" | 124330,35284 1 0 0 "NXT_DAT <= '0';"
A 195 130 2 TEXT "Actions" | 123826,47172 1 0 0 "NXT_DAT <= DATA_VLD;"
A 194 57 8 TEXT "Actions" | 160589,86852 1 0 0 "NXT_DAT <= '0';\nNXT_ADR <= '0';\nU_CMD_VALID <= '0';"
A 193 57 2 TEXT "Actions" | 161345,114364 1 0 0 "NXT_DAT <= DATA_VLD;\nNXT_ADR <= not U_BUSY;\nRST_GEN <= '0';\nU_CMD <= RD;\nU_CMD_VALID <= not U_BUSY;"
A 192 29 8 TEXT "Actions" | 163730,141945 1 0 0 "NXT_DAT <= '0';\nNXT_ADR <= '0';\nU_CMD_VALID <= '0';"
A 223 221 16 TEXT "Actions" | 73515,169690 1 0 0 "if delay_counter_ddr_test_sm /= 0 then delay_counter_ddr_test_sm <= delay_counter_ddr_test_sm - 1; end if;"
C 222 221 0 TEXT "Conditions" | 74796,133584 1 0 0 "@else"
W 221 216 0 219 219 BEZIER "Transitions" | 102235,142795 73515,169690 74796,133584 106077,133478
L 220 219 0 TEXT "State Labels" | 107950,139700 1 0 0 "DS2"
S 219 216 4096 ELLIPSE "States" | 107950,139700 6500 6500
I 218 216 0 Builtin Exit | 129540,111760
I 217 216 0 Builtin Entry | 86360,167640
H 216 215 0 RECT 0,0,0 0 0 1 255,255,255 0 | 15700,15700 200200,263700
S 215 5 67153924 ELLIPSE "Delay" | 116266,134248 6500 6500
L 214 215 0 TEXT "State Labels" | 116266,134248 1 0 0 "D2"
A 213 25 2 TEXT "Actions" | 84230,184312 1 0 0 "RST_GEN <= '1';"
W 212 5 0 199 57 BEZIER "Transitions" | 134082,94475 138204,95590 142326,96706 146448,97821
C 211 210 0 TEXT "Conditions" | 121768,120665 1 0 0 "delay_counter_ddr_test_sm = 0"
W 210 200 0 203 202 BEZIER "Transitions" | 111768,134441 116768,127553 121732,118649 126732,111760
A 209 208 16 TEXT "Actions" | 95119,158781 1 0 0 "delay_counter_ddr_test_sm <= 1 - 1;"
W 208 200 0 201 203 BEZIER "Transitions" | 90260,167640 94861,160797 99721,151937 104323,145093
A 235 38 16 TEXT "Actions" | 105411,154789 1 0 0 "U_CMD <= WR;"
A 234 231 4 TEXT "Actions" | 58812,139000 1 0 0 "DDRT_STAT <= DDR_PASS; \nEN_TEST <= '0';"
C 233 232 0 TEXT "Conditions" | 59077,161217 1 0 0 "U_BUSY = '0' and \nDDRT_TRIG = '0'"
W 232 5 8192 25 231 BEZIER "Transitions" | 87679,157466 83896,155516 78263,153032 74480,151082
S 231 5 49152 ELLIPSE "States" | 69108,147424 6500 6500
L 230 231 0 TEXT "State Labels" | 69108,147424 1 0 0 "NoTest"
W 228 5 0 215 29 BEZIER "Transitions" | 122762,134451 130004,135480 137246,136510 144488,137539
C 227 226 0 TEXT "Conditions" | 121768,120665 1 0 0 "delay_counter_ddr_test_sm = 0"
W 226 216 0 219 218 BEZIER "Transitions" | 111768,134441 116768,127553 121732,118649 126732,111760
A 225 224 16 TEXT "Actions" | 95119,158781 1 0 0 "delay_counter_ddr_test_sm <= 1 - 1;"
W 224 216 0 217 219 BEZIER "Transitions" | 90260,167640 94861,160797 99721,151937 104323,145093
END
